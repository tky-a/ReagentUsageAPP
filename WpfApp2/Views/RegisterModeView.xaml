<Window x:Class="WpfApp2.Views.RegisterModeView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp2.Views"
        mc:Ignorable="d"
        Title="RegisterModeView" Height="450" Width="800" x:Name="MinWindow">


    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <!-- メニュー -->
            <ColumnDefinition Width="*"/>
            <!-- 1ペイン -->
            <ColumnDefinition Width="150"/>
            <!-- 2ペイン -->
            <ColumnDefinition Width="200" x:Name="SearchColumn"/>
            <!-- 3ペイン -->
        </Grid.ColumnDefinitions>

        <!-- 2ペイン：ステップの切り替え表示 -->
        <Grid Grid.Column="1">
            <!-- ステップ1：管理番号スキャン -->
            <StackPanel x:Name="Step1Panel" Margin="20" Visibility="Visible">
                <TextBlock Text="ステップ 1：管理番号のスキャン"
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0 0 0 10"/>

                <!--<Image Source="/Resources/Images/scan-placeholder.png"
                       Height="150"
                       Margin="0 0 0 10"
                       Stretch="Uniform"/>-->

                <TextBlock Text="管理番号：" FontWeight="SemiBold" Margin="0 0 0 5"/>
                <TextBox Height="30" Margin="0 0 0 10" x:Name="ScanInputBox"/>

                <TextBlock Text="※ 管理番号はバーコードスキャンまたは手動入力で登録されます。"
                           Foreground="Gray"
                           FontSize="12"/>
            </StackPanel>

            <!-- ステップ2：質量測定 -->
            <StackPanel x:Name="Step2Panel" Margin="20" Visibility="Collapsed">
                <TextBlock Text="ステップ 2：質量（g）の測定"
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0 0 0 10"/>

                <!--<Image Source="/Resources/Images/scale-placeholder.png"
                       Height="150"
                       Margin="0 0 0 10"
                       Stretch="Uniform"/>-->

                <TextBlock Text="質量 (g)：" FontWeight="SemiBold" Margin="0 0 0 5"/>
                <TextBox Height="30" Margin="0 0 0 10" x:Name="WeightInputBox"/>

                <TextBlock Text="※ 電子天秤から自動入力されるか、手動で入力できます。"
                           Foreground="Gray"
                           FontSize="12"/>
            </StackPanel>

            <!-- ステップ3：人物IDの登録 -->
            <StackPanel x:Name="Step3Panel" Margin="20" Visibility="Collapsed">
                <!-- ステップタイトル -->
                <TextBlock Text="ステップ 3：貸出・返却者のID登録"
               FontSize="18"
               FontWeight="Bold"
               Margin="0 0 0 10"/>

                <!-- 仮の説明画像 -->
                <!--<Image Source="/Resources/Images/user-placeholder.png"
                   Height="150"
                   Margin="0 0 0 10"
                   Stretch="Uniform"/>-->

                <!-- 入力欄 -->
                <TextBlock Text="ユーザーID：" FontWeight="SemiBold" Margin="0 0 0 5"/>
                <TextBox Height="30"
                Margin="0 0 0 10"
                x:Name="UserIdInputBox"/>

                <!-- 注意書き -->
                <TextBlock Text="※ 利用者IDはバーコードスキャンまたは手動入力で登録されます。"
               Foreground="Gray"
               FontSize="12"/>
            </StackPanel>
        </Grid>
        
        <!-- 3ペイン：最新スキャン結果の表示 -->
        <Border Grid.Column="2" Padding="10" BorderBrush="LightGray" BorderThickness="1">
            <StackPanel>
                <TextBlock Text="スキャン結果"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0 0 0 10"/>

                <!-- 管理番号 -->
                <TextBlock Text="管理番号：" Margin="0 5 0 2"/>
                <TextBox x:Name="ResultItemIdBox" IsReadOnly="True" />

                <!-- 質量 -->
                <TextBlock Text="質量 (g)：" Margin="10 10 0 2"/>
                <TextBox x:Name="ResultWeightBox" IsReadOnly="True" />

                <!-- ユーザーID -->
                <TextBlock Text="ユーザーID：" Margin="10 10 0 2"/>
                <TextBox x:Name="ResultUserIdBox" IsReadOnly="True" />

                <!-- 編集ボタン -->
                <Button Content="修正する"
                Margin="0 15 0 0"
                Width="100"
                HorizontalAlignment="Left"
                Click="OnEditButtonClick"/>
            </StackPanel>
        </Border>

        <!-- 4ペイン：収納式検索パネル -->
        <Border Grid.Column="4"
        Background="LightGray"
        x:Name="SearchPanel"
        BorderBrush="Gray"
        BorderThickness="1">
            <Grid>
                <!-- 検索フォーム -->
                <StackPanel VerticalAlignment="Top" Margin="20,10,10,0">
                    <TextBlock  Text="簡易検索"
                                FontSize="18"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,10,0,0"/>
                    <TextBlock  Text="薬品名で検索可能（一部一致）"
                                FontSize="10"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,0,0,5"/>
                    
                    <!-- 検索バー -->
                    <TextBox    x:Name="SearchTextBox"
                                Width="auto"
                                Height="30"
                                Margin="10"
                                VerticalAlignment="Center"/>

                    <!-- 検索ボタン -->
                    <Button x:Name="SearchButton"
                            Content="検索"
                            Width="auto"
                            Height="30"
                            Margin="10"
                            VerticalAlignment="Center"
                            Click="SearchButton_Click"/>

                    <TextBlock  Text="検索結果は↓に出ます"
                                FontSize="10"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,0,0,5"/>

                    <!-- 検索結果表示（仮） -->
                    <ListView x:Name="SearchResultsListView" Height="200" Margin="0 0 0 10">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="管理番号" DisplayMemberBinding="{Binding 管理番号}" Width="100"/>
                                <GridViewColumn Header="薬品名" DisplayMemberBinding="{Binding 薬品名}" Width="200"/>
                                <!--<GridViewColumn Header="現在量" DisplayMemberBinding="{Binding 現在量}" Width="80"/>
                                <GridViewColumn Header="容量" DisplayMemberBinding="{Binding 容量}" Width="80"/>
                                <GridViewColumn Header="登録日" DisplayMemberBinding="{Binding 登録日}" Width="120"/>-->
                            </GridView>
                        </ListView.View>
                    </ListView>

                </StackPanel>

                <!-- トグルボタン：パネル右端に縦長に配置 -->
                <Button x:Name="ToggleSearchButton"
                Width="20"
                Content=">"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Left"
                Click="ToggleSearchButton_Click"
                FontSize="14"
                FontWeight="Bold"
                Background="DarkGray"
                Foreground="White"/>
            </Grid>
        </Border>

    </Grid>
</Window>
