<Window x:Class="WpfApp2.Views.RegisterModeView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp2.Views"
        mc:Ignorable="d"
        WindowStyle="None"
        ResizeMode="CanResizeWithGrip"
        Title="RegisterModeView" Height="450" MinHeight="450" MinWidth="800" Width="800" x:Name="MinWindow"
        FontFamily="HG丸ｺﾞｼｯｸM-PRO" Background="Transparent" AllowsTransparency="True"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height ="auto" MinHeight="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height ="auto" MinHeight="80"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto" MinWidth="70" />
            <ColumnDefinition Width="auto" MinWidth="80"/>
            <ColumnDefinition Width="200" x:Name="SearchColumn"/>
        </Grid.ColumnDefinitions>

        <Border Grid.ColumnSpan="4" Grid.RowSpan="3" Background="White" CornerRadius="10">
            
        </Border>

            <Border Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0 0 0 0">
                <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="" TextAlignment="Center"/>
                    <TextBlock x:Name="ScanIcon" Text="&#xEC5A;" TextAlignment="Center" FontSize="33" Margin="4 4 10 4" FontFamily="Segoe MDL2 Assets"/>
                    <TextBlock x:Name="ScanText" Text="バーコード&#x0a;スキャン" TextAlignment="Center"  FontSize="10"/>
                </StackPanel>
                <TextBlock VerticalAlignment="Center" Text="&#xE72A;" FontSize="33" Margin="20 0 20 0" FontFamily="Segoe MDL2 Assets"/>
                <StackPanel HorizontalAlignment="Center">
                    <TextBlock Text="" TextAlignment="Center"/>
                    <TextBlock x:Name="MassIcon" Text="&#xEF3F;" TextAlignment="Center"  FontSize="33" Margin="4 4 4 4" FontFamily="Segoe MDL2 Assets"/>
                    <TextBlock x:Name="MassText" Text="残量測定" TextAlignment="Center"  FontSize="10"/>
                </StackPanel>
                <TextBlock VerticalAlignment="Center" Text="&#xE72A;" FontSize="33" Margin="20 0 10 0" FontFamily="Segoe MDL2 Assets"/>
                <StackPanel>
                    <TextBlock Text="" TextAlignment="Center"/>
                    <TextBlock x:Name="UserIcon" Text="&#xE716;" TextAlignment="Center"  FontSize="33" Margin="0 4 4 4" FontFamily="Segoe MDL2 Assets"/>
                    <TextBlock x:Name="UserText" Text="ユーザー登録" TextAlignment="Center"  FontSize="10"/>
                </StackPanel>
                
            </StackPanel>
        </Border>

        

            
        <!-- 2ペイン：ステップの切り替え表示 -->
        <Grid Grid.Row="1" Grid.ColumnSpan="3" Grid.RowSpan="2">

            <StackPanel >
                <Button x:Name="btnTEST" Click="btnTEST_Click"
                        Content="test" 
                        Width="100" Margin="10 90 0 0"
                        HorizontalAlignment="Left"/>
            </StackPanel>
            <!-- ステップ1：管理番号スキャン -->
            <StackPanel x:Name="Step1Panel" Margin="20" Visibility="Visible">
                
                <Image Source="/Resources/Images/Slide1.jpg"
                       Height="150"
                       Margin="0 10 0 10"                    
                       Stretch="Uniform"/>
                
                <TextBlock Text="薬品IDをスキャンしてください"
                           FontSize="26"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Margin="0 0 0 10"/>

                <TextBlock Text="" FontWeight="SemiBold" 
                           Margin="0 0 0 5"/>
                <TextBox Height="30"
                         Background="Transparent"
                         BorderBrush="Transparent"
                         Margin="0 0 0 10" 
                         FontSize="18"
                         x:Name="ScanInputBox"/>

                <TextBlock Text="※ 管理番号はバーコードスキャンまたは手動入力で登録されます。"              
                           Foreground="Gray"
                           FontSize="12"/>
            </StackPanel>

            <!-- ステップ2：質量測定 -->
            <StackPanel x:Name="Step2Panel" Margin="20" Visibility="Hidden">
                <Image Source="/Resources/Images/weighing2.png"
                       Height="150"
                       Margin="0 10 0 10"
                       Stretch="Uniform"/>
                <TextBlock Text="質量を入力してください"
                           FontSize="26"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Margin="0 0 0 10"/>

                <TextBlock Text="" FontWeight="SemiBold" 
                           Margin="0 0 0 5"/>
                <TextBox Height="30"
                         Background="Transparent"
                         BorderBrush="Transparent"
                         Margin="0 0 0 10"
                         FontSize="18"
                         x:Name="WeightInputBox"/>

                <TextBlock Text="※連携したはかりから入力するか手動で入力（単位なし）"              
                           Foreground="Gray"
                           FontSize="12"/>
            </StackPanel>

            <!-- ステップ3：人物IDの登録 -->
            <StackPanel x:Name="Step3Panel" Margin="20" Visibility="Hidden">
                <Image Source="/Resources/Images/user_scan.png"
                   Height="150"
                   Margin="0 10 0 10"
                   Stretch="Uniform"/>
                <TextBlock Text="利用者IDをスキャン"
                           FontSize="26"
                           FontWeight="Bold"
                           TextAlignment="Center"
                           Margin="0 0 0 10"/>

                <TextBlock Text="" FontWeight="SemiBold" 
                           Margin="0 0 0 5"/>
                <TextBox Height="30"
                         Background="Transparent"
                         BorderBrush="Transparent"
                         FontSize="18"
                         Margin="0 0 0 10" 
                         x:Name="UserIdInputBox"/>

                <TextBlock Text="※ 利用者IDはスキャン or 手動で入力してください。"              
                           Foreground="Gray"
                           FontSize="12"/>
            </StackPanel>

            <StackPanel x:Name="Step4Panel" Margin="20" Visibility="Visible">
                
            </StackPanel>
        </Grid>

        
        
        
        
        <!-- 3ペイン：最新スキャン結果の表示 -->
        <Border Grid.Column="1" Grid.Row="3" Grid.ColumnSpan="2"
                BorderBrush="Black" BorderThickness="1"
                CornerRadius="10" Margin="5"
                HorizontalAlignment="Right"
                MinWidth="200">
            <TextBlock Text="スキャン結果"
                FontSize="10.5"
                FontWeight="Bold"
                Margin="5"
                TextAlignment="Center"/>
        </Border>

        <StackPanel HorizontalAlignment="Center" Grid.Row="3" Grid.Column="1">
            <StackPanel Orientation="Vertical" HorizontalAlignment="Right">
                <TextBlock Text="管理番号:" FontSize="10.5" Margin="10 25 2 0" TextAlignment="Right"/>
                <TextBlock Text="質量 (g):" FontSize="10.5" Margin="10 7 2 0" TextAlignment="Right"/>
                <TextBlock Text="ユーザーID:" FontSize="10.5" Margin="10 7 2 0" TextAlignment="Right"/>
            </StackPanel>
        </StackPanel>
        
                <!-- 管理番号 -->
        <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Grid.Row="3" Grid.Column="2">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                <TextBox x:Name="ResultItemIdBox"
                        IsReadOnly="True"
                        Width="65"
                        Height="15"
                        HorizontalAlignment="Left"
                        Margin="3 22 0 0"/>

                <Button FontFamily="Segoe MDL2 Assets"
                        Margin="0 20 0 0"
                        Content="&#xE70F;"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        Foreground="LightGray"
                        ToolTip="編集"
                        Click="OnEditButtonClick"
                        x:Name="ResultItemBTN"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                <!-- 質量 -->
                <TextBox x:Name="ResultWeightBox" 
                                IsReadOnly="True"
                                Width="65"
                                Height="15"
                                HorizontalAlignment="Left"
                                Margin="3 2 0 0"/>

                <Button FontFamily="Segoe MDL2 Assets"
                                Content="&#xE70F;"
                                Margin="0 0 0 0"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                Foreground="LightGray"
                                ToolTip="編集"
                                Click="OnEditButtonClick"
                                x:Name="ResultWeightBTN"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" VerticalAlignment="Top">
                <!-- ユーザーID -->
                <TextBox x:Name="ResultUserIdBox"
                                IsReadOnly="True"
                                Width="65"
                                Height="15"
                                HorizontalAlignment="Left"
                                Margin="3 4 0 0"/>
                <Button  FontFamily="Segoe MDL2 Assets"
                                Content="&#xE70F;"
                                Margin="0 2 0 0"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                Foreground="LightGray"
                                ToolTip="編集"
                                Click="OnEditButtonClick"
                                x:Name="ResultUserIdBTN"/>
            </StackPanel>
        </StackPanel>

        <!-- 4ペイン：収納式検索パネル -->
        <Border Grid.Column="4" Grid.RowSpan="3"
                Background="Transparent"
                Margin="0 0 0 0"
                x:Name="SearchPanel"
                CornerRadius="0 10 10 0"
                BorderThickness="1"
                BorderBrush="LightGray"
                Panel.ZIndex="3"
                >
            <Grid>
                <!-- 検索フォーム -->
                <StackPanel VerticalAlignment="Top" Margin="20,30,10,0">
                    <TextBlock  Text="簡易検索"
                                FontSize="18"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,10,0,0"/>
                    <TextBlock  Text="薬品名で検索可能（部分一致）"
                                FontSize="10"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,0,0,5"/>
                    
                    <!-- 検索バー -->
                    <TextBox    x:Name="SearchTextBox"
                                Width="auto"
                                Height="30"
                                Margin="10"                                
                                Background="Transparent"
                                BorderBrush="Black"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"/>

                    <!-- 検索ボタン -->
                    <Button x:Name="SearchButton"
                            Content="検索"
                            Width="auto"
                            Height="30"
                            Margin="10"
                            Background="Transparent"
                            BorderBrush="Black"
                            VerticalAlignment="Center"
                            Click="SearchButton_Click"/>

                    <TextBlock  Text="検索結果は↓に出ます"
                                FontSize="10"
                                FontWeight="Bold"
                                TextAlignment="Center"
                                Margin="10,0,0,5"/>

                    <!-- 検索結果表示（仮） -->
                    <TextBlock x:Name="SearchResultsTextBlock"
                               Text="ここに検索結果が表示されます"
                               FontSize="12"
                               Margin="10,0,0,10"
                               TextWrapping="Wrap"
                               Foreground="Gray"/>
                </StackPanel>

                <!-- トグルボタン：パネル右端に縦長に配置 -->
                <Button x:Name="ToggleSearchButton"
                Width="20"
                Content=">"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Left"
                Margin="0 0 0 0"
                Click="ToggleSearchButton_Click"
                FontSize="14"
                FontWeight="Bold"            
                Background="Transparent"
                BorderBrush="Transparent"
                Foreground="Black"/>
            </Grid>
        </Border>

            <Button Width="30" Height="20" 
                    VerticalAlignment="Top" 
                    Content="×" 
                    Panel.ZIndex="1"
                    Grid.Column="2"
                    Margin="0 2 6 0"
                    BorderBrush="Transparent"
                    HorizontalAlignment="Right"
                    Background="Transparent"
                    x:Name="CloseButton"
                    Click="CloseButton_Click"
                    MouseEnter="CloseButton_MouseEnterLeave"
            />
    </Grid>
</Window>
